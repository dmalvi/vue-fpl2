(function(t){function e(e){for(var a,i,c=e[0],o=e[1],u=e[2],p=0,f=[];p<c.length;p++)i=c[p],s[i]&&f.push(s[i][0]),s[i]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);l&&l(e);while(f.length)f.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,c=1;c<n.length;c++){var o=n[c];0!==s[o]&&(a=!1)}a&&(r.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},s={app:0},r=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/vue-fpl2/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=o;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("64a9"),s=n.n(a);s.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var a=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Aspside")],1)},r=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main-container",on:{click:t.extend}},[n("div",{staticClass:"header-container"},[n("span",{staticClass:"title-text"},[t._v("\n      FPL "),n("big",[t._v("|")]),t._v(" Aspside\n    ")],1)]),t.allTeamDetails.length&&!t.loading?n("div",{staticClass:"table-container"},[n("table",{staticClass:"league-table"},[n("thead",{staticClass:"league-header"},[n("tr",{staticClass:"header-row"},[n("th",{staticClass:"rank-header rank"},[t._v("#")]),n("th",{staticClass:"a-left"},[t._v("Team")]),n("th",{staticClass:"a-left"},[t._v("Captain")]),n("transition",{attrs:{name:"slide-fade"}},[t.extended?n("th",{staticClass:"a-left"},[t._v("Vice Captain")]):t._e()]),n("transition",{attrs:{name:"slide-fade"}},[t.extended?n("th",[t._v("Transfer costs")]):t._e()]),n("transition",{attrs:{name:"slide-fade"}},[t.extended?n("th",{staticClass:"a-right"},[t._v("Points on bench")]):t._e()]),n("th",{staticClass:"a-center"},[t._v("GW"+t._s(t.gw))]),n("th",{staticClass:"a-center tot"},[t._v("Total")])],1)]),t._l(t.allTeamDetails,function(e){return n("tbody",{key:e.rank,staticClass:"league-body"},[n("tr",{staticClass:"team-row"},[n("td",{staticClass:"rank-col rank"},[n("span",{staticClass:"rank-content"},[t._v(t._s(e.rank))]),n("span",{staticClass:"rank-content"},[n("div",{class:e.movement})])]),n("td",{staticClass:"a-left"},[t._v(t._s(e.entry_name)+" "),e.gw_chip?n("small",{staticClass:"chip"},[t._v(t._s(e.gw_chip.toUpperCase()))]):t._e()]),n("td",{staticClass:"a-left"},[t._v(t._s(e.captain_name))]),n("transition",{attrs:{name:"slide-fade"}},[t.extended?n("td",{staticClass:"a-left"},[t._v(t._s(e.viceCaptain_name))]):t._e()]),n("transition",{attrs:{name:"slide-fade"}},[t.extended?n("td",[e.transferCost>0?n("span",[t._v("-"+t._s(e.transferCost))]):t._e()]):t._e()]),n("transition",{attrs:{name:"slide-fade"}},[t.extended?n("td",{staticClass:"a-right"},[t._v(t._s(e.bench_points))]):t._e()]),n("td",{staticClass:"a-center"},[t._v(t._s(e.gw_points))]),n("td",{staticClass:"a-right tot"},[n("strong",[t._v(t._s(e.total))])])],1)])})],2)]):t._e(),t.loading?n("div",[n("div",{staticClass:"loader"}),n("h3",{staticClass:"status"},[t._v(t._s(t.statusMsg))])]):t._e(),n("div",{staticClass:"info-box",style:{visibility:t.infoVisibility}},[n("div",{staticClass:"info-text"},[t._v("Click / Tap anywhere to switch view")])])])},c=[],o=n("cebc"),u=(n("ac6a"),n("75fc")),l=n("5d73"),p=n.n(l),f=(n("96cf"),n("3b8d")),h={data:function(){return{teams:[],details:[],playersDb:[],loading:!1,allTeamDetails:[],gw:"",statusMsg:"",gwData:[],extended:!1,infoVisibility:"hidden"}},created:function(){this.completeDetails()},watch:{loading:function(t){t||(this.infoVisibility="visible",setTimeout(this.toggleInfo,3e3))}},methods:{toggleInfo:function(){"visible"===this.infoVisibility?this.infoVisibility="hidden":this.infoVisibility="visible"},extend:function(){this.extended=!this.extended},checkCurrentEvent:function(){var t=Object(f["a"])(regeneratorRuntime.mark(function t(){var e,n,a,s,r,i,c,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,this.statusMsg="checking current gw...",e="https://fantasy.premierleague.com/drf/events",t.next=5,fetch(e).then(function(t){return t.json()});case 5:return n=t.sent,t.next=8,n;case 8:for(this.gwData=t.sent,a=!0,s=!1,r=void 0,t.prev=12,i=p()(this.gwData);!(a=(c=i.next()).done);a=!0)o=c.value,o.is_current&&(this.gw=o.id);t.next=20;break;case 16:t.prev=16,t.t0=t["catch"](12),s=!0,r=t.t0;case 20:t.prev=20,t.prev=21,a||null==i.return||i.return();case 23:if(t.prev=23,!s){t.next=26;break}throw r;case 26:return t.finish(23);case 27:return t.finish(20);case 28:console.log("01");case 29:case"end":return t.stop()}},t,this,[[12,16,20,28],[21,,23,27]])}));function e(){return t.apply(this,arguments)}return e}(),fetchAspside:function(){var t=Object(f["a"])(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.statusMsg="fetching league...",e="https://fantasy.premierleague.com/drf/leagues-classic-standings/116190",t.next=4,fetch(e).then(function(t){return t.json()});case 4:return n=t.sent,t.next=7,n.standings.results;case 7:this.teams=t.sent,console.log("02");case 9:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),fetchPlayerDb:function(){var t=Object(f["a"])(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.statusMsg="building player database...",e="https://fantasy.premierleague.com/drf/bootstrap-static",t.next=4,fetch(e).then(function(t){return t.json()});case 4:return n=t.sent,t.next=7,n.elements;case 7:this.playersDb=t.sent,console.log("04");case 9:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),fetchCaptains:function(){var t=Object(f["a"])(regeneratorRuntime.mark(function t(){var e,n,a,s,r,i,c,o,u,l,f,h,d,v,_,g,m,b,y,x;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.statusMsg="fetching teamdata...",e="https://fantasy.premierleague.com/drf/entry/",n="/event/",a=this.gw,s="/picks",r=!0,i=!1,c=void 0,t.prev=8,o=p()(this.teams);case 10:if(r=(u=o.next()).done){t.next=43;break}return l=u.value,f=l.entry,t.next=15,fetch(e+f+n+a+s).then(function(t){return t.json()});case 15:return h=t.sent,t.next=18,h;case 18:for(d=t.sent,v={teamId:l.entry,name:l.entry_name,captain:"",captain_name:"",viceCaptain:"",viceCaptain_name:"",gw_points:d.entry_history.points,gw_chip:d.active_chip,bench_points:d.entry_history.points_on_bench,transferCost:d.entry_history.event_transfers_cost},_=!0,g=!1,m=void 0,t.prev=23,b=p()(d.picks);!(_=(y=b.next()).done);_=!0)x=y.value,x.is_captain&&(v.captain=x.element),x.is_vice_captain&&(v.viceCaptain=x.element);t.next=31;break;case 27:t.prev=27,t.t0=t["catch"](23),g=!0,m=t.t0;case 31:t.prev=31,t.prev=32,_||null==b.return||b.return();case 34:if(t.prev=34,!g){t.next=37;break}throw m;case 37:return t.finish(34);case 38:return t.finish(31);case 39:this.details.push(v);case 40:r=!0,t.next=10;break;case 43:t.next=49;break;case 45:t.prev=45,t.t1=t["catch"](8),i=!0,c=t.t1;case 49:t.prev=49,t.prev=50,r||null==o.return||o.return();case 52:if(t.prev=52,!i){t.next=55;break}throw c;case 55:return t.finish(52);case 56:return t.finish(49);case 57:console.log("03");case 58:case"end":return t.stop()}},t,this,[[8,45,49,57],[23,27,31,39],[32,,34,38],[50,,52,56]])}));function e(){return t.apply(this,arguments)}return e}(),runner:function(){var t=Object(f["a"])(regeneratorRuntime.mark(function t(){var e,n,a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.checkCurrentEvent();case 2:return e=t.sent,t.next=5,this.fetchAspside();case 5:return n=t.sent,t.next=8,this.fetchCaptains();case 8:return a=t.sent,t.next=11,this.fetchPlayerDb();case 11:return s=t.sent,t.abrupt("return",e+n+a+s);case 13:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),completeDetails:function(){var t=Object(f["a"])(regeneratorRuntime.mark(function t(){var e,n,a,s,r,i,c,l,f;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.runner();case 2:for(t.sent,this.statusMsg="compiling data...",e=Object(u["a"])(this.teams),n=Object(u["a"])(this.details),a=[],s=!0,r=!1,i=void 0,t.prev=10,c=function(){var t=f.value,e={};n.forEach(function(n){n.teamId===t.entry&&(e=Object(o["a"])({},n,t),a.push(e))})},l=p()(e);!(s=(f=l.next()).done);s=!0)c();t.next=19;break;case 15:t.prev=15,t.t0=t["catch"](10),r=!0,i=t.t0;case 19:t.prev=19,t.prev=20,s||null==l.return||l.return();case 22:if(t.prev=22,!r){t.next=25;break}throw i;case 25:return t.finish(22);case 26:return t.finish(19);case 27:this.allTeamDetails=a,console.log("05"),this.captainNames(),console.log("07 Done and done!");case 31:case"end":return t.stop()}},t,this,[[10,15,19,27],[20,,22,26]])}));function e(){return t.apply(this,arguments)}return e}(),captainNames:function(){this.statusMsg="finishing details...";var t=Object(u["a"])(this.playersDb),e=!0,n=!1,a=void 0;try{for(var s,r=function(){var e=s.value;t.forEach(function(t){if(t.id===e.captain)e.captain_name=t.second_name;else{if(t.id!==e.viceCaptain)return null;e.viceCaptain_name=t.second_name}})},i=p()(this.allTeamDetails);!(e=(s=i.next()).done);e=!0)r()}catch(c){n=!0,a=c}finally{try{e||null==i.return||i.return()}finally{if(n)throw a}}this.statusMsg="",this.loading=!1,console.log("06")}}},d=h,v=(n("7977"),n("2877")),_=Object(v["a"])(d,i,c,!1,null,null,null);_.options.__file="Aspside.vue";var g=_.exports,m={name:"app",components:{Aspside:g}},b=m,y=(n("034f"),Object(v["a"])(b,s,r,!1,null,null,null));y.options.__file="App.vue";var x=y.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(x)}}).$mount("#app")},"64a9":function(t,e,n){},7977:function(t,e,n){"use strict";var a=n("8854"),s=n.n(a);s.a},8854:function(t,e,n){}});
//# sourceMappingURL=app.b6d0cff7.js.map